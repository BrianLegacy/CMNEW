<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0
    Transitional//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:head></h:head>
    <h:body>
        <ui:composition > 
            <style>
                .ui-growl-item-container.ui-state-highlight {
                    border-color: red;

                }

                .pgid-borderless.ui-panelgrid>*>tr,
                .pgid-borderless.ui-panelgrid .ui-panelgrid-cell {
                    border: none;
                }
            </style>

            <p:growl id="msgs" showDetail="true" life="3000"/>

            <div align="center">
                <p:panel id="maintab" header="AVAILABLE USER ALPHANUMERIC">
                    <h:form>
                        <div style="display: flex; justify-content: flex-end; margin-bottom: 5px;">
                            <p:commandButton value="XLSX" title="Export to XLSX" icon="fa fa-file-excel-o">
                                <p:dataExporter type="xlsxstream" target=":table" fileName="Alphanumerics"/>
                            </p:commandButton>
                            <p:commandButton value="CSV" title="Export to CSV" icon="fa fa-file-csv">
                                <p:dataExporter type="csv" target=":table" fileName="Alphanumerics"/>
                            </p:commandButton>
                        </div>
                    </h:form> 
                    <p:dataTable var="data" value="#{alphaScroller.allAlphas}" id="table"
                                 rows="10"
                                     rowsPerPageTemplate="10, 15, 25"
                                     pageLinks="3"
                                     paginator="true" paginatorPosition="bottom"
                                     paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                     currentPageReportTemplate="{totalRecords} records"
                                     scrollable="true"
                                     resizableColumns="true" 
                                 
                                 >

                        <p:column headerText="Username">
                            <h:outputText value="#{data.username}"/>
                        </p:column>

                        <p:column headerText="Aplhanumerics" >
                            <h:outputText value="#{data.name}" />
                        </p:column>

                        <p:column headerText="Action" exportable="false">

                            <!--<p:panelGrid columns="2"  style="width: 100px; ;" styleClass="pgid-borderless">-->

                            <h:form>
                                <p:commandButton 
                                    id="editbutton"
                                    icon="pi pi-user-edit"
                                    title="Click to edit user details" style="font-size: 1.5em;">
                                    <p:ajax  listener="#{alphaScroller.psetCurrentAlpha(data)}"
                                             oncomplete="PF('editgroupmodal').show();"
                                             update="editgroupmodal" 
                                             event="click"
                                             />
                                </p:commandButton>

                                <p:commandButton ajax="true"
                                                 rendered="#{userScroller.amIResellersUser()}"
                                                 id="deletebutton"
                                                 icon="pi pi-trash"
                                                 oncomplete="PF('deletegroupmodal').show();"
                                                 title="Click to delete user"
                                                 style="font-size: 1.3em;">
                                    <p:ajax  listener="#{alphaScroller.psetCurrentAlpha(data)}"
                                             oncomplete="PF('deletegroupmodal').show();;"
                                             event="click"
                                             />
                                </p:commandButton>

                                <!--</p:panelGrid>-->
                                <p:dialog header="Edit User Alphanumerics" widgetVar="editgroupmodal" id="editgroupmodal" modal="true">
                                    <table align="center" style="margin-top:15px; width: 400px; border: none" >
                                        <tr style="border:none">
                                            <td style=" border: none">
                                                <h:outputLabel for="groupname" value="Username" />
                                            </td>
                                            <td style="border:none">
                                                <p:inputText style="width: 150px; " id="groupname" value="#{alphaScroller.currentItem.username}" disabled="true" readonly="true" placeholder="" requiredMessage="Enter Group Name"  validatorMessage="Enter Group name" >
                                                    <f:validateLength minimum="3" />
                                                </p:inputText>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="border: none">
                                                <h:inputHidden id="alphaId" value="#{alphaScroller.currentItem.id}">

                                                </h:inputHidden>
                                            </td>
                                        </tr>

                                        <tr>
                                            <td style="border:none" >
                                                <h:outputLabel  value="Alphanumeric" />
                                            </td>
                                            <td style="border:none; margin-left: -10px">
                                                <p:selectOneMenu  
                                                    value="#{alphaScroller.currentItem.name}"

                                                    id="org_alphanumeric" 
                                                    required="true" requiredMessage="Alphanumerics Required" 
                                                    >
                                                    <f:selectItem itemLabel="Select Sender ID"/>
                                                    <f:selectItems  value="#{smscontroller.listAlphas}"  />
                                                </p:selectOneMenu >
                                            </td>
                                        </tr>
                                    </table>
                                    <br/>
                                    <div style="display: flex; justify-content: center; margin: 10px 10px 0px 10px">
                                        <p:commandButton style="margin-right: 10px" ajax="false"  
                                                         value="Update" process="org_alphanumeric" 
                                                         action="#{alphaScroller.saveOrUpdateAlpha}" 
                                                         update="table" />
                                           
                                        <p:commandButton value="Cancel" 
                                                         onclick="PF('editgroupmodal').hide();"></p:commandButton>
                                    </div>
                                </p:dialog> 
                            </h:form>


                            <p:dialog header="Delete  Alphanumeric" widgetVar="deletegroupmodal"  id="deletegroupmodal"  modal="true" >
                                <h:form>
                                    <p:outputLabel value="Are you sure you want to delete `#{alphaScroller.currentItem.name}` group?.
                                                   You cannot undo this operation."/>
                                    <br/>
                                    <div style="display: flex; justify-content: center; margin: 10px 10px 0px 10px">
                                        <p:commandButton style="margin-right: 10px" 
                                                         ajax="false"  
                                                         actionListener="#{alphaScroller.deleteAlphanumeric}"  
                                                         oncomplete="PF('deletegroupmodal').hide();" 
                                                         value="Delete"></p:commandButton>
                                        <p:commandButton value="Cancel" onclick="PF('deletegroupmodal').hide();"></p:commandButton>
                                    </div>
                                </h:form>
                            </p:dialog> 
                        </p:column>
                        <f:facet name="paginatorTopLeft">
                            <h:form>
                                <p:commandButton type="button" icon="pi pi-refresh"/></h:form>
                        </f:facet>

                        <f:facet name="paginatorBottomRight">
                            <h:form>
                                <p:commandButton type="button" icon="pi pi-cloud-upload"/>
                            </h:form>
                        </f:facet>

                    </p:dataTable>

                </p:panel>
            </div>



        </ui:composition>
    </h:body>
</html> 